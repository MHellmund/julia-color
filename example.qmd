---
title: "An Example"
format:
   julia-color-html: default
   julia-color-pdf:
     pdf-engine: xelatex
     papersize: a4
     code-block-bg: "#e0e0e0"
     code-block-border-left: "#008000"
execute:
  preserve-ansi: true

keep-ipynb: true
keep-tex: true
keep-md: true
---

## The JuliaMono font


Code example making heavy use of Unicode from [https://github.com/JuliaArrays/StaticArrays.jl/issues/537#issuecomment-439863841](https://github.com/JuliaArrays/StaticArrays.jl/issues/537#issuecomment-439863841)


```julia
function T(ğ›‰::AbstractArray,
           ğ’::Tuple{AbstractArray,
           Vararg{AbstractArray}},
           ğ’Ÿ::Tuple{AbstractArray, Vararg{AbstractArray}})
    âŠ— = kron
    l = length(ğ›‰)
    ğˆâ‚— = SMatrix{l,l}(1.0I)
    ğˆâ‚˜ = SMatrix{1,1}(1.0I)
    ğ“ = @SMatrix zeros(l,l)
    N = length(ğ’Ÿ[1])
    â„³, â„³Ê¹ = ğ’Ÿ
    Î›â‚, Î›â‚‚ = ğ’
    ğš²â‚™ = @MMatrix zeros(4,4)
    ğâ‚ = @SMatrix [1.0; 0.0; 0.0]
    ğâ‚‚ = @SMatrix [0.0; 1.0; 0.0]
    for n = 1:N
        index = SVector(1,2)
        ğš²â‚™[1:2,1:2] .=  Î›â‚[n][index,index]
        ğš²â‚™[3:4,3:4] .=  Î›â‚‚[n][index,index]
        ğ¦    = hom(â„³[n])
        ğ¦Ê¹   = hom(â„³Ê¹[n])
        ğ”â‚™   = (ğ¦ âŠ— ğ¦Ê¹)
        âˆ‚â‚“ğ®â‚™ = [(ğâ‚ âŠ— ğ¦Ê¹) (ğâ‚‚ âŠ— ğ¦Ê¹) (ğ¦ âŠ— ğâ‚) (ğ¦ âŠ— ğâ‚‚)]
        ğâ‚™   = âˆ‚â‚“ğ®â‚™ * ğš²â‚™ * âˆ‚â‚“ğ®â‚™'
        ğšºâ‚™   = ğ›‰' * ğâ‚™ * ğ›‰
        ğšºâ‚™â»Â¹ = inv(ğšºâ‚™)
        ğ“â‚   = @SMatrix zeros(Float64,l,l)
        for k = 1:l
            ğâ‚– = ğˆâ‚—[:,k]
            âˆ‚ğâ‚–ğšºâ‚™ = (ğˆâ‚˜ âŠ— ğâ‚–') * ğâ‚™ * (ğˆâ‚˜ âŠ— ğ›‰) + (ğˆâ‚˜ âŠ— ğ›‰') * ğâ‚™ * (ğˆâ‚˜ âŠ— ğâ‚–)
            # Accumulating the result in ğ“â‚ allocates memory,
            # even though the two terms in the
            # summation are both SArrays.
            ğ“â‚ = ğ“â‚ + ğ”â‚™ * ğšºâ‚™â»Â¹ * (âˆ‚ğâ‚–ğšºâ‚™) * ğšºâ‚™â»Â¹ * ğ”â‚™' * ğ›‰ * ğâ‚–'
        end
        ğ“ = ğ“ + ğ“â‚
    end
    ğ“
end
```



## Colored console graphs produced by `Benchmarktools.jl`

```{julia}
using BenchmarkTools

@benchmark sum(rand(1000))
```

## Some output using ANSI escape codes

```{julia}
printstyled("- Red ", color=:red)
printstyled("Green ", color=:green)
printstyled("Bold underline green\n", color=:green, bold=true, underline=true)
printstyled("- Normal black for comparison\n")
printstyled("- Hidden is implemented as light/dimmed\n", hidden=true)
printstyled("- Hidden is implemented as light/dimmed\n", hidden=true, italic=true)
printstyled("- Green background\n", color=:green, reverse=true)
printstyled("- A 256 bit color\n", color=142)
printstyled("- Some italic\n", italic=true)
printstyled("- and blue bold italic\n", italic=true, bold=true, color=:blue)
```

## Structure of floating point numbers

```{julia}
function printbitsf64(x::Float64)
    s = bitstring(x)
    printstyled(s[1], color = :blue, reverse=true)
    printstyled(s[2:12], color = :green, reverse=true)
    printstyled(s[13:end], color=:red, bold=true, reverse=true)
    print("\n")
end

printbitsf64(27.56640625)
```

### Machine epsilon

```{julia}
Eps=0.5
while 1 != 1 + Eps
    Eps /= 2
    printbitsf64(1+Eps)
end
```


## Errors and Warnings

```{julia}
#| error: true
#| warn: true

3 < "four"
```

The `@warn` macro writes to the `stderr` channel:

```{julia}
#| error: true
#| warn: true
println(Ï€^2)
@warn  "Last warning!"
1 + 41
```

